var inherit = require("../utils/inherit");
var TabSegment = require("./TabSegment");
var BaseRange = require("../model/BaseRange");
var BaseOptionList = require("../model/BaseOptionList");
var Factory = require("./Factory");

module.exports = ToolView;

function ToolView(className, tableClass){
    TabSegment.call(this, className);

    this.table = $("<div class='" + tableClass + "'>");

    this._build();
    this.show();
}

inherit(ToolView, TabSegment);

ToolView.prototype._build = function(){
    this.getContainer().append(this.table);
};

ToolView.prototype.resetToolOptions = null;

ToolView.prototype.setEvent = function(){};

ToolView.prototype.createElement = function(className, name, value){
    var $element;
    if(value instanceof BaseRange){
        $element = Factory.rangeElement(className + " range", name, value.min, value.max,
                                        this.setEvent.bind(this), value.step, value.value);
    } else if(value instanceof BaseOptionList){
        $element = Factory.dropDownElement(className, name, value.options,
                                           this.setEvent.bind(this), value.value);
    }
    return $element;
};
