var inherit = require("../utils/inherit");
var BaseRecorder = require("./BaseRecorder");

module.exports = DrumRecorder;

function DrumRecorder(instrumentName, playValue, startTime, releaseTime){
    BaseRecorder.call(this);
    this.instrument = instrumentName;
    this.playValue = playValue;
    this.startTime = startTime || 0;
    this.releaseTime = releaseTime || 0;
}

inherit(DrumRecorder, BaseRecorder);

DrumRecorder.prototype.play = function(drumObject){
    if((typeof this.playValue) === "string") {
        drumObject.triggerAttack(this.playValue, '+' + (this.startTime / 1000));
    } else{
        drumObject.triggerAttackRelease(this.playValue, '+' + (this.startTime / 1000));
    }
};

DrumRecorder.prototype.getData = function(){
    var result = {};
    result.instrument = this.instrument;
    result.playValue = this.playValue;
    result.startTime = this.startTime;
    return result;
};
